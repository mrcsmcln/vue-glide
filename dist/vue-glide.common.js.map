{"version":3,"file":"vue-glide.common.js","sources":["../src/components/intersection.js","../src/components/translation.vue?rollup-plugin-vue=script.js","../src/util/dynamic-component.js","../src/components/parallax.vue?rollup-plugin-vue=script.js","../src/install.js","../src/index.js"],"sourcesContent":["export default {\n  abstract: true,\n  props: {\n    root: {\n      type: Element,\n      default: null\n    },\n    rootMargin: {\n      type: String,\n      default: '0px'\n    },\n    threshold: {\n      type: [Number, Array],\n      default: () => [0]\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      isIntersecting: undefined,\n      intersectionObserver: undefined\n    }\n  },\n  computed: {\n    options() {\n      return {\n        root: this.root,\n        rootMargin: this.rootMargin,\n        threshold: this.threshold instanceof Array\n          ? this.threshold.slice(0) : this.threshold\n      }\n    }\n  },\n  watch: {\n    options: {\n      immediate: true,\n      handler() {\n        if (this.disabled) {\n          return\n        }\n\n        if (this.intersectionObserver) {\n          this.disconnect()\n        }\n\n        this.create()\n\n        if (!this.$el) {\n          return\n        }\n\n        this.observe()\n      }\n    },\n    disabled(disabled) {\n      if (this.disabled) {\n        this.disconnect()\n\n        return\n      }\n\n      this.create()\n      this.observe()\n    }\n  },\n  mounted() {\n    if (this.disabled) {\n      return\n    }\n\n    this.observe()\n  },\n  methods: {\n    create() {\n      this.intersectionObserver = new IntersectionObserver(\n        this.callback,\n        this.options\n      )\n    },\n    observe() {\n      this.intersectionObserver.observe(this.$el)\n    },\n    disconnect() {\n      this.intersectionObserver.disconnect()\n    },\n    reset(newVal, oldVal) {\n      this.disconnect()\n      this.create()\n      this.observe()\n    },\n    callback([entry]) {\n      const { isIntersecting } = entry\n\n      if (this.isIntersecting !== isIntersecting) {\n        this.isIntersecting = isIntersecting\n\n        this.$emit(isIntersecting ? 'enter' : 'leave', entry)\n      }\n\n      this.$emit('intersect', entry)\n    }\n  },\n  render() {\n    return this.$slots.default[0]\n  }\n}\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport intersection from './intersection'\n\nexport default {\n  abstract: true,\n  components: {\n    intersection\n  },\n  props: {\n    // root: {\n    //   type: Element,\n    //   default: null\n    // },\n    // rootMargin: {\n    //   type: String,\n    //   default: '0px'\n    // },\n    callback: {\n      type: Function,\n      default: null,\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    enter(entry) {\n      this.active = true\n    },\n    leave() {\n      this.active = false\n    },\n    intersect() {\n      this.update()\n    },\n    getScroll(el, descendantsScroll = { top: 0, left: 0 }) {\n      const {\n        scrollTop: elTop,\n        scrollLeft: elLeft,\n        parentElement: elParent\n      } = el\n\n      const {\n        top: descendantsTop,\n        left: descendantsLeft\n      } = descendantsScroll\n\n      const scroll = {\n        top: elTop + descendantsTop,\n        left: elLeft + descendantsLeft\n      }\n\n      if (!elParent || el === this.root) {\n        return scroll\n      }\n\n      return this.getScroll(elParent, scroll);\n    },\n    getOffset(el, descendantsOffset = { top: 0, left: 0 }) {\n      const {\n        offsetTop: elTop,\n        offsetLeft: elLeft,\n        offsetParent: elParent\n      } = el\n      const {\n        top: descendantsTop,\n        left: descendantsLeft\n      } = descendantsOffset\n\n      const offset = {\n        top: elTop + descendantsTop,\n        left: elLeft + descendantsLeft\n      }\n\n      if (!elParent) {\n        return offset\n      }\n\n      return this.getOffset(elParent, offset);\n    },\n    getDimensions(el) {\n      if (!el) {\n        const { innerWidth: width, innerHeight: height } = window\n\n        return {\n          width,\n          height\n        }\n      }\n\n      const { offsetWidth: width, offsetHeight: height } = el\n\n      return {\n        width,\n        height\n      }\n    },\n    getCurrentPosition() {\n      const { $el: el, root, getOffset, getScroll } = this\n      const { top: elScrollTop, left: elScrollLeft } = getScroll(el)\n      const {\n        top: rootOffsetTop = 0,\n        left: rootOffsetLeft = 0\n      } = root ? getOffset(root) : {}\n\n      return {\n        x: elScrollLeft + rootOffsetLeft,\n        y: elScrollTop + rootOffsetTop\n      }\n    },\n    getBoundingPositions() {\n      const { $el: el, root, getDimensions, getOffset } = this\n      const { top: elOffsetTop, left: elOffsetLeft } = getOffset(el)\n      const { width: elWidth, height: elHeight } = getDimensions(el)\n      const { width: rootWidth, height: rootHeight } = getDimensions(root)\n\n      return {\n        startX: elOffsetLeft - rootWidth,\n        startY: elOffsetTop - rootHeight,\n        endX: elOffsetLeft + elWidth,\n        endY: elOffsetTop + elHeight\n      }\n    },\n    getTranslation() {\n      const { getBoundingPositions, getCurrentPosition } = this\n      const { x: currentX, y: currentY } = getCurrentPosition()\n      const { startX, startY, endX, endY } = getBoundingPositions()\n\n      return {\n        x: (currentX - startX) / (endX - startX),\n        y: (currentY - startY) / (endY - startY)\n      }\n    },\n    update() {\n      if (this.disabled) {\n        return\n      }\n\n      this.callback(this.getTranslation())\n\n      if (this.active) {\n        requestAnimationFrame(this.update)\n      }\n    }\n  },\n}\n","export default {\n  props: {\n    tag: {\n      type: String,\n      default: undefined\n    }\n  },\n  computed: {\n    is() {\n      return (\n        this.tag\n        || this.$vnode.data.tag\n        || this.$options.defaultTag\n        || 'span'\n      )\n    }\n  },\n  render(createElement) {\n    return createElement(this.is, this.$slots.default)\n  }\n}\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport translation from './translation.vue'\nimport dynamicComponent from '../util/dynamic-component'\n\nexport default {\n  mixins: [dynamicComponent],\n  defaultTag: 'div',\n  components: {\n    translation\n  },\n  props: {\n    root: {\n      type: Element,\n      default: null\n    },\n    rootMargin: {\n      type: String,\n      default: '0px'\n    },\n    translateX: {\n      type: String,\n      default: '0px'\n    },\n    translateY: {\n      type: String,\n      default: '0px'\n    },\n    // offsetX: {\n    //   type: String,\n    //   default: '0px'\n    // },\n    // offsetY: {\n    //   type: String,\n    //   default: '0px'\n    // }\n  },\n  data() {\n    return {\n      style: undefined\n    }\n  },\n  methods: {\n    update({ x, y }) {\n      const { translateX, translateY, offsetX, offsetY } = this\n\n      this.style = {\n        transform: [\n          // `translateX(calc((${translateX} * ${(2 * x) - 1}) + ${offsetX}))`,\n          // `translateY(calc((${translateY} * ${(2 * y) - 1}) + ${offsetY}))`\n          `translateX(calc(${translateX} * ${(2 * x) - 1}))`,\n          `translateY(calc(${translateY} * ${(2 * y) - 1}))`\n        ].join(' ')\n      }\n    }\n  }\n  // render(createElement) {\n  //     return createElement('translation', {\n  //         props: {\n  //             root: this.root,\n  //             rootMargin: this.rootMargin,\n  //         },\n  //         on: {\n  //             update: this.update,\n  //         },\n  //     }, this.$slots.default);\n  // },\n}\n","import parallax from './components/parallax.vue'\nimport intersection from './components/intersection'\nimport translation from './components/translation.vue'\n\nexport default function (Vue) {\n  Vue.component('GlideParallax', parallax)\n  Vue.component('GlideTranslation', translation)\n  Vue.component('GlideIntersection', intersection)\n}\n","import install from './install'\nimport parallax from './components/parallax.vue'\nimport intersection from './components/intersection'\nimport translation from './components/translation.vue'\n\nexport default {\n  install,\n  parallax,\n  translation,\n  intersection,\n  version: '__VERSION__'\n}\n"],"names":["disabled","const","width","height"],"mappings":";;;;;;;AAAA,mBAAe;EACb,QAAQ,EAAE,IAAI;EACd,KAAK,EAAE;IACL,IAAI,EAAE;MACJ,IAAI,EAAE,OAAO;MACb,OAAO,EAAE,IAAI;KACd;IACD,UAAU,EAAE;MACV,IAAI,EAAE,MAAM;MACZ,OAAO,EAAE,KAAK;KACf;IACD,SAAS,EAAE;MACT,IAAI,EAAE,CAAC,MAAM,EAAE,KAAK,CAAC;MACrB,OAAO,cAAK,SAAG,CAAC,CAAC,IAAC;KACnB;IACD,QAAQ,EAAE;MACR,IAAI,EAAE,OAAO;MACb,OAAO,EAAE,KAAK;KACf;GACF;EACD,mBAAI,GAAG;IACL,OAAO;MACL,cAAc,EAAE,SAAS;MACzB,oBAAoB,EAAE,SAAS;KAChC;GACF;EACD,QAAQ,EAAE;IACR,yBAAO,GAAG;MACR,OAAO;QACL,IAAI,EAAE,IAAI,CAAC,IAAI;QACf,UAAU,EAAE,IAAI,CAAC,UAAU;QAC3B,SAAS,EAAE,IAAI,CAAC,SAAS,YAAY,KAAK;YACtC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS;OAC7C;KACF;GACF;EACD,KAAK,EAAE;IACL,OAAO,EAAE;MACP,SAAS,EAAE,IAAI;MACf,yBAAO,GAAG;QACR,IAAI,IAAI,CAAC,QAAQ,EAAE;UACjB,MAAM;SACP;;QAED,IAAI,IAAI,CAAC,oBAAoB,EAAE;UAC7B,IAAI,CAAC,UAAU,GAAE;SAClB;;QAED,IAAI,CAAC,MAAM,GAAE;;QAEb,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;UACb,MAAM;SACP;;QAED,IAAI,CAAC,OAAO,GAAE;OACf;KACF;IACD,2BAAQ,CAACA,UAAQ,EAAE;MACjB,IAAI,IAAI,CAAC,QAAQ,EAAE;QACjB,IAAI,CAAC,UAAU,GAAE;;QAEjB,MAAM;OACP;;MAED,IAAI,CAAC,MAAM,GAAE;MACb,IAAI,CAAC,OAAO,GAAE;KACf;GACF;EACD,yBAAO,GAAG;IACR,IAAI,IAAI,CAAC,QAAQ,EAAE;MACjB,MAAM;KACP;;IAED,IAAI,CAAC,OAAO,GAAE;GACf;EACD,OAAO,EAAE;IACP,uBAAM,GAAG;MACP,IAAI,CAAC,oBAAoB,GAAG,IAAI,oBAAoB;QAClD,IAAI,CAAC,QAAQ;QACb,IAAI,CAAC,OAAO;QACb;KACF;IACD,yBAAO,GAAG;MACR,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAC;KAC5C;IACD,+BAAU,GAAG;MACX,IAAI,CAAC,oBAAoB,CAAC,UAAU,GAAE;KACvC;IACD,qBAAK,CAAC,MAAM,EAAE,MAAM,EAAE;MACpB,IAAI,CAAC,UAAU,GAAE;MACjB,IAAI,CAAC,MAAM,GAAE;MACb,IAAI,CAAC,OAAO,GAAE;KACf;IACD,2BAAQ,CAAC,GAAO,EAAE;;;MAChB,0CAAgC;;MAEhC,IAAI,IAAI,CAAC,cAAc,KAAK,cAAc,EAAE;QAC1C,IAAI,CAAC,cAAc,GAAG,eAAc;;QAEpC,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,OAAO,GAAG,OAAO,EAAE,KAAK,EAAC;OACtD;;MAED,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,KAAK,EAAC;KAC/B;GACF;EACD,uBAAM,GAAG;IACP,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;GAC9B;CACF;;AC5GD;;;;;;;;;;;;AAYA,AAEA,eAAe;EACb,QAAQ,EAAE,IAAI;EACd,UAAU,EAAE;kBACV,YAAY;GACb;EACD,KAAK,EAAE;;;;;;;;;IASL,QAAQ,EAAE;MACR,IAAI,EAAE,QAAQ;MACd,OAAO,EAAE,IAAI;KACd;IACD,QAAQ,EAAE;MACR,IAAI,EAAE,OAAO;MACb,OAAO,EAAE,KAAK;KACf;GACF;EACD,OAAO,EAAE;IACP,qBAAK,CAAC,KAAK,EAAE;MACX,IAAI,CAAC,MAAM,GAAG,KAAI;KACnB;IACD,qBAAK,GAAG;MACN,IAAI,CAAC,MAAM,GAAG,MAAK;KACpB;IACD,6BAAS,GAAG;MACV,IAAI,CAAC,MAAM,GAAE;KACd;IACD,6BAAS,CAAC,EAAE,EAAE,iBAAuC,EAAE;2DAAxB,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC;;MACjD;MAEc;MACG,gCACX;;MAEN;MAEQ,6CACa;;MAErBC,IAAM,MAAM,GAAG;QACb,GAAG,EAAE,KAAK,GAAG,cAAc;QAC3B,IAAI,EAAE,MAAM,GAAG,eAAe;QAC/B;;MAED,IAAI,CAAC,QAAQ,IAAI,EAAE,KAAK,IAAI,CAAC,IAAI,EAAE;QACjC,OAAO,MAAM;OACd;;MAED,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;KACzC;IACD,6BAAS,CAAC,EAAE,EAAE,iBAAuC,EAAE;2DAAxB,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC;;MACjD;MAEc;MACE,+BACV;MACN;MAEQ,6CACa;;MAErBA,IAAM,MAAM,GAAG;QACb,GAAG,EAAE,KAAK,GAAG,cAAc;QAC3B,IAAI,EAAE,MAAM,GAAG,eAAe;QAC/B;;MAED,IAAI,CAAC,QAAQ,EAAE;QACb,OAAO,MAAM;OACd;;MAED,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;KACzC;IACD,qCAAa,CAAC,EAAE,EAAE;MAChB,IAAI,CAAC,EAAE,EAAE;QACP;QAAwC,kCAAiB;;QAEzD,OAAO;iBACLC,OAAK;kBACLC,QAAM;SACP;OACF;;MAED;MAA0C,6BAAa;;MAEvD,OAAO;eACL,KAAK;gBACL,MAAM;OACP;KACF;IACD,+CAAkB,GAAG;MACnB,OAA6C,GAAG;MAAnC;MAAI;MAAM;MAAW,8BAAkB;MACpD,SAA8C,GAAG,SAAS,CAAC,EAAE;MAAhD;MAAmB,8BAA8B;MAC9D,SAGC,GAAG,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC,GAAG;qFAFN;yFACE,CAAC,CACK;;MAE/B,OAAO;QACL,CAAC,EAAE,YAAY,GAAG,cAAc;QAChC,CAAC,EAAE,WAAW,GAAG,aAAa;OAC/B;KACF;IACD,mDAAoB,GAAG;MACrB,OAAiD,GAAG;MAAvC;MAAI;MAAM;MAAe,8BAAkB;MACxD,SAA8C,GAAG,SAAS,CAAC,EAAE;MAAhD;MAAmB,8BAA8B;MAC9D,SAA0C,GAAG,aAAa,CAAC,EAAE;MAA9C;MAAiB,4BAA8B;MAC9D,SAA8C,GAAG,aAAa,CAAC,IAAI;MAApD;MAAmB,8BAAkC;;MAEpE,OAAO;QACL,MAAM,EAAE,YAAY,GAAG,SAAS;QAChC,MAAM,EAAE,WAAW,GAAG,UAAU;QAChC,IAAI,EAAE,YAAY,GAAG,OAAO;QAC5B,IAAI,EAAE,WAAW,GAAG,QAAQ;OAC7B;KACF;IACD,uCAAc,GAAG;MACf,OAAkD,GAAG;MAA7C;MAAsB,gDAA2B;MACzD,SAAkC,GAAG,kBAAkB;MAA5C;MAAa,uBAAiC;MACzD,SAAoC,GAAG,oBAAoB;MAAnD;MAAQ;MAAQ;MAAM,sBAA+B;;MAE7D,OAAO;QACL,CAAC,EAAE,CAAC,QAAQ,GAAG,MAAM,KAAK,IAAI,GAAG,MAAM,CAAC;QACxC,CAAC,EAAE,CAAC,QAAQ,GAAG,MAAM,KAAK,IAAI,GAAG,MAAM,CAAC;OACzC;KACF;IACD,uBAAM,GAAG;MACP,IAAI,IAAI,CAAC,QAAQ,EAAE;QACjB,MAAM;OACP;;MAED,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,EAAC;;MAEpC,IAAI,IAAI,CAAC,MAAM,EAAE;QACf,qBAAqB,CAAC,IAAI,CAAC,MAAM,EAAC;OACnC;KACF;GACF;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7JD,uBAAe;EACb,KAAK,EAAE;IACL,GAAG,EAAE;MACH,IAAI,EAAE,MAAM;MACZ,OAAO,EAAE,SAAS;KACnB;GACF;EACD,QAAQ,EAAE;IACR,eAAE,GAAG;MACH;QACE,IAAI,CAAC,GAAG;WACL,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG;WACpB,IAAI,CAAC,QAAQ,CAAC,UAAU;WACxB,MAAM;OACV;KACF;GACF;EACD,uBAAM,CAAC,aAAa,EAAE;IACpB,OAAO,aAAa,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;GACnD;CACF;;ACpBD;;;;;;;;;;;;;;;;AAgBA,AAGA,aAAe;EACb,MAAM,EAAE,CAAC,gBAAgB,CAAC;EAC1B,UAAU,EAAE,KAAK;EACjB,UAAU,EAAE;iBACV,WAAW;GACZ;EACD,KAAK,EAAE;IACL,IAAI,EAAE;MACJ,IAAI,EAAE,OAAO;MACb,OAAO,EAAE,IAAI;KACd;IACD,UAAU,EAAE;MACV,IAAI,EAAE,MAAM;MACZ,OAAO,EAAE,KAAK;KACf;IACD,UAAU,EAAE;MACV,IAAI,EAAE,MAAM;MACZ,OAAO,EAAE,KAAK;KACf;IACD,UAAU,EAAE;MACV,IAAI,EAAE,MAAM;MACZ,OAAO,EAAE,KAAK;KACf;;;;;;;;;GASF;EACD,mBAAI,GAAG;IACL,OAAO;MACL,KAAK,EAAE,SAAS;KACjB;GACF;EACD,OAAO,EAAE;IACP,uBAAM,CAAC,GAAQ,EAAE;oBAAL;;;MACV,SAAkD,GAAG;MAA7C;MAAY;MAAY,AAEhC,IAAI,CAAC,KAAK,GAAG;QACX,SAAS,EAAE;;;gCAGU,UAAU,YAAM,CAAC,CAAC,GAAG,CAAC,IAAI,EAAC;gCAC3B,UAAU,YAAM,CAAC,CAAC,GAAG,CAAC,IAAI,EAAC;SAC/C,CAAC,IAAI,CAAC,GAAG,CAAC;QACZ;KACF;GACF;;;;;;;;;;;;CAYF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7ED,cAAe,UAAU,GAAG,EAAE;EAC5B,GAAG,CAAC,SAAS,CAAC,eAAe,EAAE,QAAQ,EAAC;EACxC,GAAG,CAAC,SAAS,CAAC,kBAAkB,EAAE,WAAW,EAAC;EAC9C,GAAG,CAAC,SAAS,CAAC,mBAAmB,EAAE,YAAY,EAAC;CACjD;;ACHD,YAAe;WACb,OAAO;YACP,QAAQ;eACR,WAAW;gBACX,YAAY;EACZ,OAAO,EAAE,OAAa;CACvB;;;;"}